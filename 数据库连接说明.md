# 叨叨数据库连接配置

# 开发环境数据库连接信息

## MySQL (Docker)
- **主机**: localhost
- **端口**: 3306
- **数据库**: daodao
- **用户名**: daodao_dev
- **密码**: daodao_dev_2024

## Redis (Docker)
- **主机**: localhost
- **端口**: 6379
- **密码**: (无)

## 数据库管理工具
- **Adminer**: http://localhost:8080
- **服务器**: mysql
- **用户名**: root
- **密码**: daodao_root_2024

## 连接示例代码

### Node.js (mysql2)
```javascript
const mysql = require('mysql2')

const connection = mysql.createConnection({
  host: 'localhost',
  port: 3306,
  user: 'daodao_dev',
  password: 'daodao_dev_2024',
  database: 'daodao',
  charset: 'utf8mb4'
})
```

### Node.js (Sequelize)
```javascript
const { Sequelize } = require('sequelize')

const sequelize = new Sequelize('daodao', 'daodao_dev', 'daodao_dev_2024', {
  host: 'localhost',
  port: 3306,
  dialect: 'mysql',
  charset: 'utf8mb4',
  collate: 'utf8mb4_unicode_ci',
  timezone: '+08:00'
})
```

### Node.js (Redis)
```javascript
const redis = require('redis')

const client = redis.createClient({
  host: 'localhost',
  port: 6379
})
```

## 默认管理员账户
- **用户名**: admin
- **密码**: admin123

## 数据库表结构

1. **users** - 用户表 (微信用户)
2. **admins** - 管理员表
3. **categories** - 分类表
4. **contents** - 内容表
5. **comments** - 评论表
6. **likes** - 点赞记录表
7. **uploads** - 上传文件表
8. **configs** - 系统配置表
9. **logs** - 操作日志表

## Docker 服务管理

### 启动服务
```bash
docker-compose up -d
```

### 停止服务
```bash
docker-compose down
```

### 重启服务
```bash
docker-compose restart
```

### ��看日志
```bash
# MySQL日志
docker-compose logs mysql

# Redis日志
docker-compose logs redis
```

### 进入MySQL容器
```bash
docker exec -it daodao-mysql mysql -u daodao_dev -pdaodao_dev_2024 daodao
```